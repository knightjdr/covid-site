(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+6xk":function(e,t,n){},"/Qom":function(e,t,n){},"0Ewi":function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n}},"0e13":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48c3R5bGU+LmZhLXByaW1hcnl7ZmlsbDojZmZmMWJjfS5mYS1zZWNvbmRhcnl7ZmlsbDojNjk5Yzc4fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yNTYgOEMxMTkgOCA4IDExOSA4IDI1NnMxMTEgMjQ4IDI0OCAyNDggMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4em0xMzEuNSAyMjAuNWwtMTIzIDEyM2ExMiAxMiAwIDAgMS0xNyAwbC0xMjMtMTIzQTEyIDEyIDAgMCAxIDEzMyAyMDhoMjQ2YTEyIDEyIDAgMCAxIDguNSAyMC41eiIgY2xhc3M9ImZhLXNlY29uZGFyeSIvPjxwYXRoIGQ9Ik0zODcuNSAyMjguNWwtMTIzIDEyM2ExMiAxMiAwIDAgMS0xNyAwbC0xMjMtMTIzQTEyIDEyIDAgMCAxIDEzMyAyMDhoMjQ2YTEyIDEyIDAgMCAxIDguNSAyMC41eiIgY2xhc3M9ImZhLXByaW1hcnkiLz48L3N2Zz4="},"0oEU":function(e,t,n){},"2WyD":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48c3R5bGU+LnN0MXtmaWxsOiM2OTljNzh9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDk2IDM4NEg2NFY4MGExNiAxNiAwIDAgMC0xNi0xNkgxNkExNiAxNiAwIDAgMCAwIDgwdjMzNmEzMiAzMiAwIDAgMCAzMiAzMmg0NjRhMTYgMTYgMCAwIDAgMTYtMTZ2LTMyYTE2IDE2IDAgMCAwLTE2LTE2em0tMzM2LTY0YTMyIDMyIDAgMSAwLTMyLTMyIDMyIDMyIDAgMCAwIDMyIDMyem0yNTYtMTYwYTMyIDMyIDAgMSAwLTMyLTMyIDMyIDMyIDAgMCAwIDMyIDMyem0tMjI0IDBhMzIgMzIgMCAxIDAtMzItMzIgMzIgMzIgMCAwIDAgMzIgMzJ6bTE5MiAxNjBhMzIgMzIgMCAxIDAtMzItMzIgMzIgMzIgMCAwIDAgMzIgMzJ6bS05Ni02NGEzMiAzMiAwIDEgMC0zMi0zMiAzMiAzMiAwIDAgMCAzMiAzMnoiLz48L3N2Zz4="},"4PB0":function(e,t,n){},"53sn":function(e,t,n){},"5Tkv":function(e,t,n){},"6xS1":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48c3R5bGU+LmZhLXByaW1hcnl7ZmlsbDojZmZmMWJjfS5mYS1zZWNvbmRhcnl7ZmlsbDojNjk5Yzc4fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yNTYgOEMxMTkgOCA4IDExOSA4IDI1NnMxMTEgMjQ4IDI0OCAyNDggMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4em05NS41IDI1Ni41bC0xMjMgMTIzQTEyIDEyIDAgMCAxIDIwOCAzNzlWMTMzYTEyIDEyIDAgMCAxIDIwLjUtOC41bDEyMyAxMjNhMTIgMTIgMCAwIDEgMCAxN3oiIGNsYXNzPSJmYS1zZWNvbmRhcnkiLz48cGF0aCBkPSJNMzUxLjUgMjY0LjVsLTEyMyAxMjNBMTIgMTIgMCAwIDEgMjA4IDM3OVYxMzNhMTIgMTIgMCAwIDEgMjAuNS04LjVsMTIzIDEyM2ExMiAxMiAwIDAgMSAwIDE3eiIgY2xhc3M9ImZhLXByaW1hcnkiLz48L3N2Zz4="},"7dsD":function(e,t,n){},"ClQ+":function(e,t,n){},DGK6:function(e,t,n){},NSiH:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("17x9"),l=n.n(r),c=(n("/Qom"),Object(a.forwardRef)((function(e,t){var n=e.children,a=e.classOnOverflow,r=e.minWidth,l=e.tableOverflows;return i.a.createElement("div",{className:a&&l?"table__container "+a:"table__container",ref:t},i.a.createElement("table",{className:"table",style:{minWidth:r}},n))})));c.defaultProps={minWidth:"auto"},c.propTypes={children:l.a.node.isRequired,classOnOverflow:l.a.string.isRequired,minWidth:l.a.oneOfType([l.a.number,l.a.string]),tableOverflows:l.a.bool.isRequired};var o=c,s=function(e){var t=e.children,n=e.classOnOverflow,r=e.minWidth,l=Object(a.useState)(!1),c=l[0],s=l[1],u=Object(a.useRef)();return Object(a.useEffect)((function(){var e=function(){var e=u.current,t=e.clientWidth,n=e.scrollWidth;s(n>t)};return n&&(e(),window.addEventListener("resize",e)),function(){n&&window.removeEventListener("resize",e)}}),[n]),i.a.createElement(o,{classOnOverflow:n,minWidth:r,ref:u,tableOverflows:c},t)};s.defaultProps={classOnOverflow:"",minWidth:"auto"};t.a=s},PKEw:function(e,t,n){},QQXG:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48c3R5bGU+LmZhLXByaW1hcnl7ZmlsbDojZmZmMWJjfS5mYS1zZWNvbmRhcnl7ZmlsbDojNjk5Yzc4fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yNTYgOEMxMTkgOCA4IDExOS4wOCA4IDI1NnMxMTEgMjQ4IDI0OCAyNDggMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4em0wIDExMGE0MiA0MiAwIDEgMS00MiA0MiA0MiA0MiAwIDAgMSA0Mi00MnptNTYgMjU0YTEyIDEyIDAgMCAxLTEyIDEyaC04OGExMiAxMiAwIDAgMS0xMi0xMnYtMjRhMTIgMTIgMCAwIDEgMTItMTJoMTJ2LTY0aC0xMmExMiAxMiAwIDAgMS0xMi0xMnYtMjRhMTIgMTIgMCAwIDEgMTItMTJoNjRhMTIgMTIgMCAwIDEgMTIgMTJ2MTAwaDEyYTEyIDEyIDAgMCAxIDEyIDEyeiIgY2xhc3M9ImZhLXNlY29uZGFyeSIvPjxwYXRoIGQ9Ik0yNTYgMjAyYTQyIDQyIDAgMSAwLTQyLTQyIDQyIDQyIDAgMCAwIDQyIDQyem00NCAxMzRoLTEyVjIzNmExMiAxMiAwIDAgMC0xMi0xMmgtNjRhMTIgMTIgMCAwIDAtMTIgMTJ2MjRhMTIgMTIgMCAwIDAgMTIgMTJoMTJ2NjRoLTEyYTEyIDEyIDAgMCAwLTEyIDEydjI0YTEyIDEyIDAgMCAwIDEyIDEyaDg4YTEyIDEyIDAgMCAwIDEyLTEydi0yNGExMiAxMiAwIDAgMC0xMi0xMnoiIGNsYXNzPSJmYS1wcmltYXJ5Ii8+PC9zdmc+"},Yko9:function(e,t,n){},efKZ:function(e,t,n){},f6zI:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48c3R5bGU+LnN0MXtmaWxsOiM2OTljNzh9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QxIiAgZD0iTTE2MCAzMjBoMTJ2MTZjMCA4Ljg0IDcuMTYgMTYgMTYgMTZoNDBjOC44NCAwIDE2LTcuMTYgMTYtMTZ2LTE2aDEyYzE3LjY3IDAgMzItMTQuMzMgMzItMzJWNjRjMC0xNy42Ny0xNC4zMy0zMi0zMi0zMlYxNmMwLTguODQtNy4xNi0xNi0xNi0xNmgtNjRjLTguODQgMC0xNiA3LjE2LTE2IDE2djE2Yy0xNy42NyAwLTMyIDE0LjMzLTMyIDMydjIyNGMwIDE3LjY3IDE0LjMzIDMyIDMyIDMyem0zMDQgMTI4aC0xLjI5QzQ5My4yNCA0MTMuOTkgNTEyIDM2OS4yIDUxMiAzMjBjMC0xMDUuODgtODYuMTItMTkyLTE5Mi0xOTJ2NjRjNzAuNTggMCAxMjggNTcuNDIgMTI4IDEyOHMtNTcuNDIgMTI4LTEyOCAxMjhINDhjLTI2LjUxIDAtNDggMjEuNDktNDggNDggMCA4Ljg0IDcuMTYgMTYgMTYgMTZoNDgwYzguODQgMCAxNi03LjE2IDE2LTE2IDAtMjYuNTEtMjEuNDktNDgtNDgtNDh6bS0zNjAtMzJoMjA4YzQuNDIgMCA4LTMuNTggOC04di0xNmMwLTQuNDItMy41OC04LTgtOEgxMDRjLTQuNDIgMC04IDMuNTgtOCA4djE2YzAgNC40MiAzLjU4IDggOCA4eiIvPjwvc3ZnPg=="},fu0W:function(e,t,n){},"kt/V":function(e,t,n){},nSTN:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),i=n.n(a),r=n("8k0H"),l=n("9eSz"),c=n.n(l);var o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var a=63&n[e];t+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return t},s=n("Wbzz"),u=n("vOnD"),m=n("2WyD"),d=n.n(m),g=n("0e13"),p=n.n(g),h=n("6xS1"),y=n.n(h),f=n("vgLE"),M=n.n(f),E=n("QQXG"),x=n.n(E),v=n("f6zI"),b=n.n(v),I={chart:d.a,dot:M.a,info:x.a,microscope:b.a},D=u.b.details.withConfig({displayName:"details__StyledDetails",componentId:"sc-1gkq6tk-0"})(["summary{list-style-type:none;}summary::-webkit-details-marker{display:none;}.summary__inner{align-items:center;display:flex;}summary span{content:'';background-image:url(",");background-size:1.2rem 1.2rem;display:inline-block;height:1.2rem;margin:0;margin-right:0.5rem;width:1.2rem;}summary:focus{outline:none;}summary:focus span,summary:hover span{background-image:url(",");}&[open] summary span{background-image:url(",");}"],(function(e){return I[e.listStyleType]}),y.a,p.a),N=function(e){var t=e.children,n=e.listStyleType,a=e.open,r=e.summary;return i.a.createElement(D,{listStyleType:n,open:a},i.a.createElement("summary",null,i.a.createElement("div",{className:"summary__inner"},i.a.createElement("span",null),r)),t)};N.defaultProps={listStyleType:"info",open:!1,summary:"summary"};var C=N,w=(n("Yko9"),function(e){var t=e.images;if(t){var n=Object(s.useStaticQuery)("1028055831");return i.a.createElement(C,{listStyleType:"microscope",summary:"Immunofluorescence"},i.a.createElement("div",{className:"report__if"},t.map((function(e,t){var a=n.allFile.edges.find((function(t){var n=t.node;return e.blue.src===n.relativePath})),r=n.allFile.edges.find((function(t){var n=t.node;return e.green.src===n.relativePath})),l=n.allFile.edges.find((function(t){var n=t.node;return e.merge.src===n.relativePath})),s=n.allFile.edges.find((function(t){var n=t.node;return e.red.src===n.relativePath}));return i.a.createElement("div",{className:"report__if-inner",key:o(10)},i.a.createElement("figure",{className:"report__if-image"},i.a.createElement(c.a,{alt:"Image "+(t+1)+" red channel",fluid:s.node.childImageSharp.fluid,height:400,width:400}),i.a.createElement("figcaption",null,e.red.marker)),i.a.createElement("figure",{className:"report__if-image"},i.a.createElement(c.a,{alt:"Image "+(t+1)+" green channel",fluid:r.node.childImageSharp.fluid,height:400,width:400}),i.a.createElement("figcaption",null,e.green.marker)),i.a.createElement("figure",{className:"report__if-image"},i.a.createElement(c.a,{alt:"Image "+(t+1)+" blue channel",fluid:a.node.childImageSharp.fluid,height:400,width:400}),i.a.createElement("figcaption",null,e.blue.marker)),i.a.createElement("figure",{className:"report__if-image"},i.a.createElement(c.a,{alt:"Image "+(t+1)+" merge channel",fluid:l.node.childImageSharp.fluid,height:400,width:400}),i.a.createElement("figcaption",null,e.merge.marker)))}))))}return null});w.defaultProps={images:null};var A=w,T=n("TZi5"),j=n("IP2g"),_=n("4Bjl"),z={A549:"A549 adenocarcinomic human alveolar basal epithelial cells",C145A:"Cysteine to alanine mutation at residue 145",C857A:"Cysteine to alanine mutation at residue 857",H165A:"Histidine to alanine mutation at residue 166",K164A:"Lysine to alanine mutation at residue 164",Ct:"C-terminal tag",Nt:"N-terminal tag"},O=function(e){var t=function(e){var t=e.reduce((function(e,t){var n=t.split("-");return Object.assign({},e,n.reduce((function(e,t){var n;return Object.assign({},e,((n={})[t]=!0,n))}),{}))}),{}),n=Object.keys(t);return n.sort(),n}(e.conditions);return i.a.createElement("div",{className:"report__prey-legend"},i.a.createElement(C,{listStyleType:"info",summary:"Condition legend"},i.a.createElement("ul",{className:"report__prey-legend"},t.map((function(e){return i.a.createElement("li",{key:e},i.a.createElement("span",null,e),":"," ",z[e])})),i.a.createElement("li",null,i.a.createElement("span",null,"SC"),": spectral counts, calculated as the average spectral count between replicates minus the average detect in controls"),i.a.createElement("li",null,i.a.createElement("span",null,"Spec"),": specificity, calculated as the fold enrichment of a prey relative to all other bait proteins"),i.a.createElement("li",null,i.a.createElement("span",null,"FDR"),": false discovery rate"))))},k=n("ihtX"),L=n("NSiH"),S=function(e){var t=e.bait,n=e.conditions,r=e.rows;return i.a.createElement("tbody",null,r.map((function(e){return i.a.createElement("tr",{className:e.highlight?"repory__prey-table_highlight":null,key:e.id.entrez},i.a.createElement("td",null,i.a.createElement(k.a,{nav:!0,to:"/search?term="+encodeURIComponent((r=e.prey,"^"+r+"$"))},e.prey)),i.a.createElement("td",null,e.id.entrez," ","/"," ",e.id.uniprot),n.map((function(t){return i.a.createElement(a.Fragment,{key:e.prey+"-"+t},e.conditions[t]?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,e.conditions[t].count),i.a.createElement("td",null,e.conditions[t].specificity),i.a.createElement("td",null,e.conditions[t].fdr)):i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))})),i.a.createElement("td",null,i.a.createElement(k.a,{hoverBorder:!0,nav:!0,to:"/heatmap?bait="+t+"&prey="+e.prey},i.a.createElement(j.a,{icon:_.a}))));var r})))},Y=function(e){var t=Object.assign({},e);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg","aria-label":"Sort arrow",height:"6px",viewBox:"0 0 297.4 168.7"},t),i.a.createElement("path",{d:"M277.4,168.7H20c-17.8,0-26.7-21.5-14.1-34.1L134.6,5.9c7.8-7.8,20.5-7.8,28.3,0l128.7,128.7 C304.1,147.1,295.2,168.7,277.4,168.7L277.4,168.7z"}))},R=function(e,t,n,a){return t!==a.condition||n!==a.metric||e===a.direction?{visibility:"visible"}:{visibility:"hidden"}},Z=function(e){var t=e.condition,n=e.handleSortByColumn,a=e.metric,r=e.sortOptions;return i.a.createElement("button",{"data-condition":t,"data-metric":a,onClick:n,type:"button"},i.a.createElement(Y,{style:R("asc",t,a,r)}),i.a.createElement(Y,{style:Object.assign({},R("des",t,a,r),{transform:"rotate(180deg)"})}))},P=(n("s1il"),{Ct:"C-terminal tag (Ct)",Nt:"N-terminal tag (Nt)"}),W=function(e){var t=e.conditions,n=e.handleSortByColumn,r=e.sortOptions;return i.a.createElement("thead",{className:"report__thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"report__thead-prey",rowSpan:3},i.a.createElement("div",{className:"report__th-inner"},i.a.createElement("span",null,"Prey"),i.a.createElement(Z,{condition:"prey",handleSortByColumn:n,metric:"prey",sortOptions:r}))),i.a.createElement("th",{className:"report__thead-prey",rowSpan:3},"ID (Entrez / UniProt)"),i.a.createElement("th",{colSpan:3*t.length},"Conditions"),i.a.createElement("th",{className:"report__thead-profile",rowSpan:3},"Profile")),i.a.createElement("tr",null,t.map((function(e){return i.a.createElement("th",{colSpan:3,key:"column-"+e},P[e]||e)}))),i.a.createElement("tr",null,t.map((function(e){return i.a.createElement(a.Fragment,{key:"column-"+e},i.a.createElement("th",null,i.a.createElement("div",{className:"report__th-inner"},i.a.createElement("span",{title:"spectral count"},"S.C."),i.a.createElement(Z,{condition:e,handleSortByColumn:n,metric:"count",sortOptions:r}))),i.a.createElement("th",null,i.a.createElement("div",{className:"report__th-inner"},i.a.createElement("span",{title:"specificity"},"Spec."),i.a.createElement(Z,{condition:e,handleSortByColumn:n,metric:"specificity",sortOptions:r}))),i.a.createElement("th",null,i.a.createElement("div",{className:"report__th-inner"},i.a.createElement("span",null,"FDR"),i.a.createElement(Z,{condition:e,handleSortByColumn:n,metric:"fdr",sortOptions:r}))))}))))},Q=(n("efKZ"),function(e){var t=e.bait,n=e.conditions,a=e.handleSortByColumn,r=e.rows,l=e.sortOptions;return i.a.createElement(L.a,{classOnOverflow:"report__prey-table_overflows",minWidth:700},i.a.createElement(W,{conditions:n,handleSortByColumn:a,sortOptions:l}),i.a.createElement(S,{bait:t,conditions:n,rows:r}))}),B=function(e,t,n,a){var i=Object.entries(e).filter((function(e){var i=e[1];return Object.values(i.conditions).some((function(e){return e.fdr<=t&&e.count>=a&&("Infinity"===e.specificity||e.specificity>=n)}))})),r={};return i.forEach((function(e){var t=e[0],n=e[1];r[t]=n})),r},X=n("KQm4"),q=n("LvDl"),G=function(e){return!Number.isNaN(Number(e))},F={character:function(e,t){var n=function(e,t){return e||t?e?t?null:-1:1:0}(e,t);return null===n&&(n=function(e,t){var n=String(e).toLowerCase(),a=String(t).toLowerCase();return n<a?-1:n>a?1:0}(e,t)),n},numeric:function(e,t){var n=function(e,t){return G(e)&&null!=e||G(t)&&null!=t?G(e)&&null!=e?G(t)&&null!=t?null:-1:1:0}(e,t);return null===n&&(n=function(e,t){return Number(e)-Number(t)}(e,t)),n}},U=function(e,t,n,a){if(void 0===n&&(n="asc"),void 0===a&&(a="string"),!function(e,t){return Array.isArray(e)&&"object"==typeof e[0]&&t}(e,t))return e;var i="des"===n?-1:1,r=Object(q.cloneDeep)(e),l="numeric"===a?F.numeric:F.character;return r.sort((function(e,n){return i*l(e[t],n[t])})),r},H=function(e,t){var n=t.condition,a=t.direction,i=t.highlightedPrey,r=t.metric,l=t.type,c=function(e,t){return"prey"===e?function(e){return{prey:e}}:function(n,a){return{prey:n,value:a[e]?Number(a[e][t]):null}}}(n,r),o=function(e,t){var n=[],a=[];return Object.entries(e).forEach((function(e){var i=e[0],r=e[1],l=t(i,r.conditions);null!==l.value?n.push(l):a.push(l)})),[n,a]}(e,c),s=o[0],u=o[1],m="string"===l?"prey":"value",d=[].concat(Object(X.a)(U(s,m,a,l)),Object(X.a)(u)).map((function(t){var n=t.prey;return{conditions:e[n].conditions,id:e[n].id,prey:n}}));return i?function(e,t){var n=e.findIndex((function(e){return e.prey===t}));if(n>-1){var a=e[n];e.splice(n,1),e.unshift(Object.assign({},a,{highlight:!0}))}return e}(d,i):d},J=function(e,t,n){return e===n.condition&&t===n.metric?"asc"===n.direction?"des":"asc":"des"},V=function(e){var t=e.bait,n=e.conditions,r=e.fdr,l=e.highlightedPrey,c=e.preys,o=e.specificity,s=e.spectralCount,u=Object(a.useState)({condition:n[0],direction:"des",highlightedPrey:l,metric:"count",type:"numeric"}),m=u[0],d=u[1],g=Object(a.useMemo)((function(){return B(c,r,o,s)}),[r,c,o,s]),p=Object(a.useMemo)((function(){return H(g,m)}),[g,m]);return i.a.createElement(Q,{bait:t,conditions:n,handleSortByColumn:function(e){var t=e.currentTarget.dataset,n=t.condition,a=t.metric;d({condition:n,direction:J(n,a,m),highlightedPrey:"",metric:a,type:"prey"===n?"string":"numeric"})},rows:p,sortOptions:m})},K=(n("fu0W"),n("JKEQ")),$=function(e){var t=e.fdr,n=e.handleCountChange,a=e.handleFDRChange,r=e.handleSpecificityChange,l=e.specificity,c=e.spectralCount;return i.a.createElement("div",{className:"report__prey-filters"},i.a.createElement(K.a,{direction:"horizontal",id:"table_fdr_filter",label:"FDR:",max:1,min:0,onChange:a,step:.01,type:"number",value:t}),i.a.createElement(K.a,{direction:"horizontal",id:"table_count_filter",label:"Spectral count:",min:0,onChange:n,step:1,type:"number",value:c}),i.a.createElement(K.a,{direction:"horizontal",id:"table_specificity_filter",label:"Specificity:",min:0,onChange:r,step:1,type:"number",value:l}))},ee=function(e){var t=e.conditions,n=e.fdr,a=e.handleCountChange,r=e.handleFDRChange,l=e.handleSpecificityChange,c=e.highlightedPrey,o=e.id,s=e.preys,u=e.specificity,m=e.spectralCount;return i.a.createElement("div",{className:"report__preys"},i.a.createElement("h2",{className:"report__prey-header"},"Preys"),i.a.createElement(O,{conditions:t}),i.a.createElement("div",{className:"report__prey-options"},i.a.createElement($,{fdr:n,handleCountChange:a,handleFDRChange:r,handleSpecificityChange:l,specificity:u,spectralCount:m}),i.a.createElement(k.a,{download:!0,nav:!0,to:"/downloads/"+o+"-saint.txt"},i.a.createElement(j.a,{icon:_.e,size:"1x"}),i.a.createElement("span",null,"SAINT"))),i.a.createElement(V,{bait:o,conditions:t,fdr:n,highlightedPrey:c,preys:s,specificity:u,spectralCount:m}))},te=function(e){var t=Number(e.target.value);return G(t)?[!0,t=Math.max(0,t)]:[!1]},ne=function(e){var t=Number(e.target.value);return G(t)?(t=Math.max(0,t),[!0,t=Math.min(1,t)]):[!1]},ae=function(e){var t=e.conditions,n=e.id,r=e.preys,l=Object(a.useState)(.01),c=l[0],o=l[1],s=Object(a.useState)(0),u=s[0],m=s[1],d=Object(a.useState)(0),g=d[0],p=d[1],h=Object(T.c)("prey",T.b)[0];return i.a.createElement(ee,{conditions:t,fdr:c,handleCountChange:function(e){var t=te(e),n=t[0],a=t[1];n&&m(a)},handleFDRChange:function(e){var t=ne(e),n=t[0],a=t[1];n&&o(a)},handleSpecificityChange:function(e){var t=te(e),n=t[0],a=t[1];n&&p(a)},highlightedPrey:h||"",id:n,preys:r,specificity:g,spectralCount:u})},ie=n("j+sc"),re=(n("wuBB"),function(e){var t=e.copyProteinToClipboard,n=e.sequence;return i.a.createElement(C,{summary:"Protein sequence"},i.a.createElement("div",{className:"report__protein-sequence"},i.a.createElement("code",null,i.a.createElement("div",null,n)),i.a.createElement("div",{className:"report__protein-copy"},i.a.createElement("span",null,"Copy"),i.a.createElement(ie.a,{ariaLabel:"copy",icon:_.d,kind:"primary",onClick:t,type:"button"}))))}),le=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(n){return!1}finally{document.body.removeChild(t)}}return!1},ce=function(e){var t=e.sequence;return i.a.createElement(re,{copyProteinToClipboard:function(){le(t)},sequence:t})},oe=n("17x9"),se=n.n(oe),ue=function(e){var t=e.midline,n=e.scale,a=5/n,r=2/n;return i.a.createElement("line",{className:"scatterplot__midline",stroke:"black",strokeDasharray:a+" "+a,strokeWidth:r,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2})},me=function(e){var t=e.axisLength,n=e.handleClickLabel,r=e.labels,l=e.points,c=e.scale,o=12/c,s=5/c,u=8/c;return l.map((function(e){var l=t-e.y;return i.a.createElement(a.Fragment,{key:e.label},i.a.createElement("circle",{cx:e.x,cy:l,"data-highlight":e.highlight,"data-label":e.label,onClick:n,r:s},i.a.createElement("title",null,e.label)),r[e.label]&&i.a.createElement("text",{dominantBaseline:"middle",fontSize:o,textAnchor:"start",x:e.x+u,y:l},e.label))}))},de=function(e){var t=e.axisLength,n=e.handleClickLabel,a=e.handleMouseDown,r=e.handleWheel,l=e.id,c=e.labels,o=e.midline,s=e.points,u=e.transform;return i.a.createElement("g",{onMouseDown:a,onWheel:r,transform:"translate(60 15)"},i.a.createElement("defs",null,i.a.createElement("clipPath",{id:l+"_points_clip"},i.a.createElement("rect",{height:t,width:t,x:0,y:0}))),i.a.createElement("g",{id:l+"_points_wheel"},i.a.createElement("rect",{height:t,opacity:0,width:t,x:0,y:0})),i.a.createElement("g",{clipPath:"url(#"+l+"_points_clip)"},i.a.createElement("g",{transform:u.matrix.plot},o&&i.a.createElement(ue,{midline:o,scale:u.scale}),i.a.createElement(me,{axisLength:t,handleClickLabel:n,labels:c,points:s,scale:u.scale}))))};de.defaultProps={midline:null};var ge=de,pe=function(e){var t=e.axisLength,n=e.handleMouseDownX,a=e.handleWheel,r=e.id,l=e.transform,c=e.x,o=l.scale,s=12/o,u=28/o,m=10/o,d=2/o;return i.a.createElement("g",{onMouseDown:n,onWheel:a,transform:"translate(55 "+(t+15)+")"},i.a.createElement("defs",null,i.a.createElement("clipPath",{id:r+"_xaxis_text_clip"},i.a.createElement("rect",{height:65,width:t+25,x:-5,y:0})),i.a.createElement("clipPath",{id:r+"_xaxis_tick_clip"},i.a.createElement("rect",{height:65,width:t+2,x:4,y:0}))),i.a.createElement("g",{id:r+"_xaxis_wheel"},i.a.createElement("rect",{height:65,opacity:0,width:t,x:5,y:0})),i.a.createElement("line",{className:"scatterplot__axis",stroke:"black",x1:5,x2:5+t,y1:0,y2:0}),i.a.createElement("g",{clipPath:"url(#"+r+"_xaxis_tick_clip)"},i.a.createElement("g",{transform:l.matrix.xAxis},c.ticks.map((function(e){return i.a.createElement("g",{className:"scatterplot__tick",key:"x-tick-"+e.key},i.a.createElement("line",{stroke:"black",strokeWidth:d,x1:5+e.x,x2:5+e.x,y1:0,y2:m}))})))),i.a.createElement("g",{clipPath:"url(#"+r+"_xaxis_text_clip)"},i.a.createElement("g",{transform:l.matrix.xAxis},c.ticks.map((function(e){return i.a.createElement("g",{className:"scatterplot__tick",key:"x-text-"+e.key},i.a.createElement("text",{fill:"black",fontFamily:"Liberation Sans",fontSize:s+"px",textAnchor:"middle",x:5+e.x,y:u},e.label))})))),i.a.createElement("text",{fill:"black",fontFamily:"Liberation Sans",textAnchor:"middle",x:5+t/2,y:55},c.label))},he=function(e){var t=e.axisLength,n=e.handleMouseDownY,a=e.handleWheelY,r=e.id,l=e.transform,c=e.y,o=15+t/2,s=l.scale,u=12/s,m=13/s,d=10/s,g=60/s,p=2/s;return i.a.createElement("g",{onMouseDown:n,onWheel:a},i.a.createElement("defs",null,i.a.createElement("clipPath",{id:r+"_yaxis_text_clip"},i.a.createElement("rect",{height:t+25,width:65,x:0,y:0})),i.a.createElement("clipPath",{id:r+"_yaxis_tick_clip"},i.a.createElement("rect",{height:t+2,width:65,x:0,y:14}))),i.a.createElement("g",{id:r+"_yaxis_wheel"},i.a.createElement("rect",{height:t,opacity:0,width:65,x:0,y:0})),i.a.createElement("line",{className:"scatterplot__axis",stroke:"black",x1:60,x2:60,y1:15,y2:15+t}),i.a.createElement("g",{clipPath:"url(#"+r+"_yaxis_tick_clip)"},i.a.createElement("g",{transform:l.matrix.yAxis},c.ticks.map((function(e){var n=15+t-e.y;return i.a.createElement("g",{className:"scatterplot__tick",key:"y-tick-"+e.key},i.a.createElement("line",{stroke:"black",strokeWidth:p,x1:g,x2:g-d,y1:n,y2:n}))})))),i.a.createElement("g",{clipPath:"url(#"+r+"_yaxis_text_clip)"},i.a.createElement("g",{transform:l.matrix.yAxis},c.ticks.map((function(e){var n=15+t-e.y;return i.a.createElement("g",{className:"scatterplot__tick",key:"y-text-"+e.key},i.a.createElement("text",{dominantBaseline:"central",fill:"black",fontFamily:"Liberation Sans",fontSize:u+"px",textAnchor:"end",x:g-m,y:n},e.label))})))),i.a.createElement("text",{dominantBaseline:"central",fill:"black",fontFamily:"Liberation Sans",textAnchor:"middle",transform:"rotate(-90, 10, "+o+")",x:10,y:o},c.label))},ye=(n("5Tkv"),function(e){var t=e.axisLength,n=e.handleClickLabel,a=e.handleMouseDownX,r=e.handleMouseDownXY,l=e.handleMouseDownY,c=e.handleWheelX,o=e.handleWheelXY,s=e.handleWheelY,u=e.id,m=e.labels,d=e.log,g=e.midline,p=e.plotDimension,h=e.points,y=e.transform,f=e.x,M=e.y;return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:u,className:"scatterplot",height:p,width:p},i.a.createElement(ge,{axisLength:t,handleClickLabel:n,handleMouseDown:r,handleWheel:o,id:u,labels:m,midline:g,points:h,transform:y}),i.a.createElement(he,{axisLength:t,handleMouseDownY:l,handleWheelY:s,id:u,log:d,transform:y,y:M}),i.a.createElement(pe,{axisLength:t,handleMouseDownX:a,handleWheel:c,id:u,log:d,transform:y,x:f}))});ye.defaultProps={midline:null};var fe=ye,Me=n("0Ewi"),Ee=function(e,t,n){return"matrix("+e+", 0, 0, "+e+", "+t+", "+n+")"},xe=function(e,t,n){return{plot:Ee(e,t,n),xAxis:Ee(e,t,0),yAxis:Ee(e,0,n)}},ve=function(e,t){var n=function(e,t){var n=e.pageX,a=e.pageY;return{x:n-t.x,y:a-t.y}}(e,function(e,t,n){return"x"===n?Object.assign({},t,{y:e.pageY}):"y"===n?Object.assign({},t,{x:e.pageX}):t}(e,t.start,t.vertex));return{x:t.origin.x+n.x,y:t.origin.y+n.y}},be={handlers:{move:null,up:null},move:!1,start:{}},Ie=function(e,t){e.preventDefault();var n=e.pageX,a=e.pageY,i=t.transform,r=i.setTransform;be.down=!0,be.start={x:n,y:a},be.handlers.move=function(e){return function(t){if(be.down){t.preventDefault();var n=e.transform,a=e.vertex,i=n.setTransform,r=ve(t,{origin:n.origin,start:be.start,vertex:a});i(Object.assign({},n,{matrix:xe(n.scale,r.x,r.y)}))}}}(t),be.handlers.up=function(e){return function(t){if(t.preventDefault(),be.down){var n=e.transform,a=e.vertex,i=n.setTransform,r=ve(t,{origin:n.origin,start:be.start,vertex:a});be.down=!1,i(Object.assign({},n,{origin:r,matrix:xe(n.scale,r.x,r.y)})),window.removeEventListener("mousemove",be.handlers.move),window.removeEventListener("mouseup",be.handlers.up)}}}(t),window.addEventListener("mousemove",be.handlers.move),window.addEventListener("mouseup",be.handlers.up),r(Object.assign({},i,{mouseDown:!0}))},De=function(e,t){e.preventDefault();var n=t.transform,a=n.setTransform,i=function(e,t){var n=e.currentTarget,a=e.pageX,i=e.pageY,r=t.id,l=t.vertex,c=n.querySelector(r).getBoundingClientRect();return"center"===l?{x:c.width/2,y:c.height/2}:"x"===l?{x:a-c.left,y:c.width/2}:"y"===l?{x:c.height/2,y:i-window.pageYOffset-c.top}:{x:a-c.left,y:i-window.pageYOffset-c.top}}(e,t),r=function(e,t){var n=e.deltaY,a=Math.exp(.05*-Math.sign(n));return{scale:Object(Me.a)(t*a,5),zoom:a}}(e,n.scale),l=function(e,t,n){return{x:Object(Me.a)(e.x-(e.x-n.x)*t,5),y:Object(Me.a)(e.y-(e.y-n.y)*t,5)}}(i,r.zoom,n.origin);a({origin:l,scale:r.scale,matrix:xe(r.scale,l.x,l.y)})},Ne={matrix:{plot:"",xAxis:"",yAxis:""},origin:{x:0,y:0},scale:1},Ce=Ie,we=De,Ae=function(e){var t=e.axisLength,n=e.id,r=e.log,l=e.midline,c=e.plotDimension,o=e.points,s=e.transform,u=e.x,m=e.y,d=Object(a.useState)({}),g=d[0],p=d[1];return i.a.createElement(fe,{axisLength:t,handleClickLabel:function(e){var t,n=e.target.dataset.label;p(Object.assign({},g,((t={})[n]=!g[n],t)))},handleMouseDownX:function(e){Ce(e,{transform:s,vertex:"x"})},handleMouseDownXY:function(e){Ce(e,{transform:s})},handleMouseDownY:function(e){Ce(e,{transform:s,vertex:"y"})},handleWheelX:function(e){we(e,{id:"#"+n+"_xaxis_wheel",transform:s,vertex:"x"})},handleWheelXY:function(e){we(e,{id:"#"+n+"_points_wheel",transform:s})},handleWheelY:function(e){we(e,{id:"#"+n+"_yaxis_wheel",transform:s,vertex:"y"})},id:n,labels:g,log:r,midline:l,plotDimension:c,points:o,transform:s,x:u,y:m})};Ae.defaultProps={midline:null};var Te=Ae,je=(n("DGK6"),Object(a.forwardRef)((function(e,t){var n,a=e.data,r=e.id,l=e.placeholderText,c=e.transform;return i.a.createElement("div",{className:"chart",ref:t},(null==a||null===(n=a.points)||void 0===n?void 0:n.length)>0?i.a.createElement("div",{className:"chart__svg"},i.a.createElement("div",{className:"chart__svg-container"},i.a.createElement(Te,{axisLength:a.axisLength,id:r,log:a.log,midline:a.midline,plotDimension:a.plotDimension,points:a.points,transform:c,x:a.x,y:a.y}))):i.a.createElement("div",{className:"chart__placeholder"},i.a.createElement("div",{className:"chart__placeholder-inner"},i.a.createElement("span",null,l))))})));je.defaultProps={midline:!1},je.propTypes={data:se.a.shape({axisLength:se.a.number,log:se.a.bool,midline:se.a.shape({x:se.a.number,y:se.a.number}),plotDimension:se.a.number,points:se.a.arrayOf(se.a.shape({label:se.a.string,x:se.a.number,y:se.a.number})),x:se.a.shape({label:se.a.string,ticks:se.a.arrayOf(se.a.shape({key:se.a.string,label:se.a.number,x:se.a.number}))}),y:se.a.shape({label:se.a.string,ticks:se.a.arrayOf(se.a.shape({key:se.a.string,label:se.a.number,x:se.a.number}))})}).isRequired,id:se.a.string.isRequired,midline:se.a.bool,placeholderText:se.a.string.isRequired,transform:se.a.shape({origin:se.a.shape({x:se.a.number,y:se.a.number}),matrix:se.a.shape({plot:se.a.string,xAxis:se.a.string,yAxis:se.a.string}),scale:se.a.number,setTransform:se.a.func.isRequired}).isRequired};var _e=je,ze=n("Jw3A"),Oe=(n("ClQ+"),function(e){var t=e.conditions,n=e.selectCondition,a=e.selectedConditions;return i.a.createElement("div",{className:"bb__conditions"},i.a.createElement(ze.a,{"data-vertex":"x",id:"vertex_x",onChange:n,options:t,placeholder:"Select x...",value:a.x}),i.a.createElement(ze.a,{"data-vertex":"y",id:"vertex_y",onChange:n,options:t,placeholder:"Select y...",value:a.y}))}),ke=n("8jCR"),Le=n("zLVn"),Se=(n("kt/V"),function(e){var t=e.id,n=e.label,a=Object(Le.a)(e,["id","label"]);return i.a.createElement("label",{className:"switch",htmlFor:t},i.a.createElement("span",null,n),i.a.createElement("input",Object.assign({id:t,type:"checkbox"},a)),i.a.createElement("span",{className:"switch__slider"},i.a.createElement("span",{className:"switch__slider-button"})))}),Ye=(n("PKEw"),function(e){var t=e.handleCountChange,n=e.handleExport,a=e.handleFDRChange,r=e.handleLogToggle,l=e.handleMidlineToggle,c=e.handleReset,o=e.handleSpecificityChange,s=e.handleZoom,u=e.id,m=e.options;return i.a.createElement("div",{className:"comparison__options"},i.a.createElement("h4",null,"Options"),i.a.createElement(K.a,{direction:"horizontal",id:u+"_fdr_option",label:"FDR:",max:1,min:0,onChange:a,step:.01,type:"number",value:m.fdr}),i.a.createElement(K.a,{direction:"horizontal",id:u+"_count_option",label:"Spectral count:",min:0,onChange:t,step:1,type:"number",value:m.count}),i.a.createElement(K.a,{direction:"horizontal",id:u+"_specificity_option",label:"Specificity:",min:0,onChange:o,step:1,type:"number",value:m.count}),i.a.createElement(Se,{checked:m.log,id:u+"_log_option",label:"Log axes:",onChange:r,type:"checkbox"}),i.a.createElement(Se,{checked:m.midline,id:u+"_midline_option",label:"x = y line:",onChange:l,type:"checkbox"}),i.a.createElement("div",{className:"comparison__options-zoom"},i.a.createElement("span",null,"Zoom:"),i.a.createElement(ie.a,{ariaLabel:"zoom in","data-delta":-1,icon:_.h,kind:"secondary",onClick:s}),i.a.createElement(ie.a,{ariaLabel:"zoom out","data-delta":1,icon:_.g,kind:"secondary",onClick:s})),i.a.createElement(ke.a,{onClick:n,kind:"primary"},"Export"),i.a.createElement(ke.a,{onClick:c,kind:"warning"},"Reset"))}),Re=function(e,t){var n=document.createElement("a"),a=new Blob([e]);n.href=URL.createObjectURL(a),n.download=t,n.setAttribute("type","hidden"),document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(a)},Ze=function(e){var t=e.changeOption,n=e.id,a=e.options,r=e.transform,l=r.setTransform;return i.a.createElement(Ye,{handleCountChange:function(e){var n=te(e),a=n[0],i=n[1];a&&t("count",i)},handleExport:function(){var e=document.getElementById(n);e&&Re(e.outerHTML,n+".svg")},handleFDRChange:function(e){var n=ne(e),a=n[0],i=n[1];a&&t("fdr",i)},handleLogToggle:function(e){t("log",e.target.checked)},handleMidlineToggle:function(e){t("midline",e.target.checked)},handleReset:function(){l(Ne)},handleSpecificityChange:function(e){var n=te(e),a=n[0],i=n[1];a&&t("count",i)},handleZoom:function(e){var t={deltaY:Number(e.currentTarget.dataset.delta),preventDefault:function(){},currentTarget:document.getElementById(n)};we(t,{id:"#"+n+"_points_wheel",transform:r,vertex:"center"})},id:n,options:a})},Pe=(n("53sn"),Object(a.forwardRef)((function(e,t){var n=e.changeOption,a=e.conditions,r=e.data,l=e.options,c=e.selectCondition,o=e.selectedConditions,s=e.transform;return i.a.createElement("div",{className:"bb"},i.a.createElement("h3",null,"Compare conditions"),i.a.createElement("p",{className:"bb__definition"},"Compare the spectral counts between two different conditions. Any prey passing the option criteria for at least one bait will be displayed. Hover over a point to see its label."),i.a.createElement("div",{className:"bb__inner"},i.a.createElement(Oe,{conditions:a,selectCondition:c,selectedConditions:o}),i.a.createElement(_e,{data:r,id:"bb_plot",midline:!1,placeholderText:"Select a pair of conditions",ref:t,transform:s}),i.a.createElement(Ze,{changeOption:n,id:"bb_plot",options:l,transform:s})))})));Pe.propTypes={changeOption:se.a.func.isRequired,conditions:se.a.arrayOf(se.a.string).isRequired,data:se.a.shape({}).isRequired,options:se.a.shape({}).isRequired,selectCondition:se.a.func.isRequired,selectedConditions:se.a.shape({x:se.a.string,y:se.a.string}).isRequired,transform:se.a.shape({}).isRequired};var We=Pe,Qe=function(e,t){return e<1.5?1:Math.floor((e-1)/.5)*t},Be=function(e,t){for(var n=Math.floor(Math.log10(e-0)),a=Math.pow(10,n)/Qe(t,2),i=[],r=function(e){var t=Math.pow(10,Math.floor(Math.log10(e)));return Math.ceil(e/t)*t}(e),l=0;l<=r;l+=a)i.push(l);return i[i.length-1]!==r&&i.push(r),i},Xe=function(e,t,n){for(var a=Qe(n,1),i=[],r=function(e){var t=Math.log10(e);return t<.1?.01:t<1?.1:1}(t),l=function(e){return Math.pow(10,Math.ceil(Math.log10(e)))}(e),c=r;c<l;c*=10){i.push(c);for(var o=10*c/a,s=1;s<a;s+=1){var u=s*o;i.push(u)}}return i.push(l),i},qe=function(e,t){var n=t.log,a=t.scale,i=t.vertex,r=e.reduce((function(e,t){return t[i]>e?t[i]:e}),0),l=e.reduce((function(e,t){return t[i]<e?t[i]:e}),1e3);return n?Xe(r,l,a):Be(r,a)},Ge=function(e,t,n){return n?function(e,t){var n={};if(e.x[0].label>=e.y[0].label){var a=e.x[0].label;n.x1=0,n.y1=t-e.y.find((function(e){return e.label===a})).y}else{var i=e.y[0].label;n.x1=e.x.find((function(e){return e.label===i})).x,n.y1=0}if(e.x[e.x.length-1].label>=e.y[e.y.length-1].label){var r=e.y[e.y.length-1].label;n.x2=e.x.find((function(e){return e.label===r})).x,n.y2=0}else{var l=e.x[e.x.length-1],c=l.label,o=l.x;n.x2=o,n.y2=t-e.y.find((function(e){return e.label===c})).y}return n}(e,t):function(e,t){var n=e.x[e.x.length-1].label,a=e.y[e.y.length-1],i=a.label;return{x1:0,x2:a.y*(i/n),y1:t,y2:0}}(e,t)},Fe=function(e,t,n){var a;return(null===(a=e.conditions[t])||void 0===a?void 0:a.fdr)<=n.fdr&&e.conditions[t].count>=n.count&&("Infinity"===e.conditions[t].specificity||e.conditions[t].specificity>=n.specificity)},Ue=function(e,t){return Object.entries(e).reduce((function(e,n){var a,i,r=n[0],l=n[1],c=t.xCondition,o=t.xMetric,s=t.yCondition,u=t.yMetric;return Fe(l,c,t)||Fe(l,s,t)?[].concat(Object(X.a)(e),[{label:r,x:(null===(a=l.conditions[c])||void 0===a?void 0:a[o])||0,y:(null===(i=l.conditions[s])||void 0===i?void 0:i[u])||0}]):e}),[])},He=function(e){var t=e.current.offsetWidth;return{axisLength:t-100,plotDimension:t-20}},Je=function(e,t,n){var a=n.axisLength,i=n.log,r=function(e){var n=t[e][t[e].length-1];if(i){var r=t[e][0],l=a/(Math.log10(n)-Math.log10(r)),c=-1*l*Math.log10(r);return function(e){return l*Math.log10(e)+c}}return function(e){return e/n*a}},l=r("x"),c=r("y");return{points:e.map((function(e){return Object.assign({},e,{x:l(Math.max(e.x,t.x[0])),y:c(Math.max(e.y,t.y[0]))})})),ticks:{x:t.x.map((function(e){return{key:o(10),label:Object(Me.a)(e,2),x:l(e)}})),y:t.y.map((function(e){return{key:o(10),label:Object(Me.a)(e,2),y:c(e)}}))}}},Ve=function(e,t,n){if(!t.current||!n.x||!n.y)return{};var a=He(t),i=Object.assign({},n,{xCondition:n.x,xMetric:"count",yCondition:n.y,yMetric:"count"}),r=Ue(e,i),l={x:qe(r,{log:n.log,scale:n.scale,vertex:"x"}),y:qe(r,{log:n.log,scale:n.scale,vertex:"y"})},c=Je(r,l,Object.assign({},a,{log:n.log})),o=n.midline?Ge(c.ticks,a.axisLength,n.log):null;return Object.assign({},a,{log:n.log,midline:o,points:c.points,x:{label:n.x,ticks:c.ticks.x},y:{label:n.y,ticks:c.ticks.y}})},Ke=function(e){var t=e.conditions,n=e.preys,r=Object(a.useState)({count:0,fdr:.01,log:!0,midline:!0,specificity:0}),l=r[0],c=r[1],o=Object(a.useState)({x:"",y:""}),s=o[0],u=o[1],m=Object(a.useState)({matrix:Object.assign({},Ne.matrix),origin:Object.assign({},Ne.origin),scale:Ne.scale}),d=m[0],g=m[1],p=Object(a.useRef)(),h=Object(a.useMemo)((function(){var e=Object.assign({},l,s,{scale:d.scale});return Ve(n,p,e)}),[l,n,d.scale,p,s]);return i.a.createElement(We,{changeOption:function(e,t){var n;c(Object.assign({},l,((n={})[e]=t,n)))},conditions:t,data:h,options:l,ref:p,selectCondition:function(e){var t,n=e.target.value,a=e.target.dataset.vertex;u(Object.assign({},s,((t={})[a]=n,t)))},selectedConditions:s,transform:Object.assign({},d,{setTransform:g})})},$e=function(e){var t=e.conditions,n=e.selectCondition,a=e.selectedCondition;return i.a.createElement("div",{className:"specificity__conditions"},i.a.createElement(ze.a,{id:"specificity_condition",onChange:n,options:t,placeholder:"Select condition",value:a}))},et=(n("4PB0"),Object(a.forwardRef)((function(e,t){var n=e.changeOption,a=e.conditions,r=e.data,l=e.options,c=e.selectCondition,o=e.selectedCondition,s=e.transform;return i.a.createElement("div",{className:"specificity"},i.a.createElement("h3",null,"Specificity"),i.a.createElement("p",{className:"specificity__definition"},"Plot the specificity of a prey versus its spectral count. The specificty of a prey is calculated as the fold change in the spectral count relative to the average across all other baits. Any other conditions/treatments for the query bait are ignored when calculating the average. Every other bait can contribute a single value when calculting the average, and this value is the maximum spectral count across any conditions present for that bait."),i.a.createElement("p",null,"Orange points"," ",i.a.createElement("span",{className:"specificity__highlight"})," ","have infinite specificty. Hover over a point to see its label."),i.a.createElement("div",{className:"specificity__inner"},i.a.createElement($e,{conditions:a,selectCondition:c,selectedCondition:o}),i.a.createElement(_e,{data:r,id:"specificity_plot",midline:!1,placeholderText:"Select a condition",ref:t,transform:s}),i.a.createElement(Ze,{changeOption:n,id:"specificity_plot",options:l,transform:s})))})));et.propTypes={changeOption:se.a.func.isRequired,conditions:se.a.arrayOf(se.a.string).isRequired,data:se.a.shape({}).isRequired,options:se.a.shape({}).isRequired,selectCondition:se.a.func.isRequired,selectedCondition:se.a.string.isRequired,transform:se.a.shape({}).isRequired};var tt=et,nt=function(e,t,n){if(!t.current||!n.condition)return{};var a=He(t),i=Object.assign({},n,{xCondition:n.condition,xMetric:"count",yCondition:n.condition,yMetric:"specificity"}),r=Ue(e,i);r=function(e){var t=e.reduce((function(e,t){return"Infinity"!==t.y&&t.y>e?t.y:e}),0);return e.map((function(e){return"Infinity"===e.y?Object.assign({},e,{highlight:!0,y:t}):Object.assign({},e)}))}(r);var l={x:qe(r,{log:n.log,scale:n.scale,vertex:"x"}),y:qe(r,{log:n.log,scale:n.scale,vertex:"y"})},c=Je(r,l,Object.assign({},a,{log:n.log})),o=n.midline?Ge(c.ticks,a.axisLength,n.log):null;return Object.assign({},a,{log:n.log,midline:o,points:c.points,x:{label:"spectral count",ticks:c.ticks.x},y:{label:"specificity",ticks:c.ticks.y}})},at=function(e){var t=e.conditions,n=e.preys,r=Object(a.useState)({count:0,fdr:.01,log:!0,midline:!1,specificity:0}),l=r[0],c=r[1],o=Object(a.useState)(""),s=o[0],u=o[1],m=Object(a.useState)({matrix:Object.assign({},Ne.matrix),origin:Object.assign({},Ne.origin),scale:Ne.scale}),d=m[0],g=m[1],p=Object(a.useRef)(),h=Object(a.useMemo)((function(){var e=Object.assign({},l,{condition:s,scale:d.scale});return nt(n,p,e)}),[l,n,d.scale,p,s]);return i.a.createElement(tt,{changeOption:function(e,t){var n;c(Object.assign({},l,((n={})[e]=t,n)))},conditions:t,data:h,options:l,ref:p,selectCondition:function(e){var t=e.target.value;u(t)},selectedCondition:s,transform:Object.assign({},d,{setTransform:g})})},it=(n("0oEU"),function(e){var t=e.conditions,n=e.preys;return i.a.createElement(C,{className:"visualization",listStyleType:"chart",summary:"Visualization"},i.a.createElement("div",{className:"visualization__inner"},i.a.createElement(at,{conditions:t,preys:n}),t.length>1&&i.a.createElement(Ke,{conditions:t,preys:n})))}),rt=(n("7dsD"),function(e){var t,n,a=e.localization,r=(null===(t=a.cellSpecific)||void 0===t?void 0:t.length)>0?a.cellSpecific.join(", "):"unknown";return(null===(n=a.virus)||void 0===n?void 0:n.length)>0?i.a.createElement("div",{className:"report__header-localization"},i.a.createElement("span",null,"cell -")," ",i.a.createElement("span",null,r),","," ",i.a.createElement("span",null,"virus -")," ",i.a.createElement("span",null,a.virus.join(", "))):i.a.createElement("div",null,r)}),lt=n("SSyG"),ct=(n("+6xk"),function(e){var t=e.uniprot;return t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"report__header-field"},"Uniprot"),i.a.createElement("div",{className:"report__header-uniprot"},i.a.createElement(k.a,{to:"https://covid-19.uniprot.org/uniprotkb/"+t},t)))}),ot=Object(a.forwardRef)((function(e,t){var n=e.description,a=e.field,r=e.handleHideText,l=e.handleShowText,c=e.showMoreButton,o=e.showText;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"report__header-field"},a),i.a.createElement("div",{className:"report__header-description"},o?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,n,i.a.createElement("button",{className:"report__header-description-button",onClick:r,type:"button"},"less"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"report__header-description-preview",ref:t},n),c&&i.a.createElement("button",{className:"report__header-description-button",onClick:l,type:"button"},"more")))):null}));ot.propTypes={description:se.a.string.isRequired,field:se.a.string.isRequired,handleHideText:se.a.func.isRequired,handleShowText:se.a.func.isRequired,showMoreButton:se.a.bool.isRequired,showText:se.a.bool.isRequired};var st=ot,ut=function(e){var t=e.description,n=e.field,r=Object(a.useState)(!1),l=r[0],c=r[1],o=Object(a.useState)(!1),s=o[0],u=o[1],m=Object(a.useRef)();return Object(a.useEffect)((function(){var e=function(){if(m.current){var e=m.current,t=e.clientWidth,n=e.scrollWidth;console.log(n,t),c(n>t)}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[m.current]),i.a.createElement(st,{description:t,field:n,handleHideText:function(){u(!1)},handleShowText:function(){u(!0)},ref:m,showMoreButton:l,showText:s})},mt=function(e){var t=e.description;return t.custom&&t.uniprot?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ut,{description:t.custom,field:"Author insights"}),i.a.createElement(ut,{description:t.uniprot?t.uniprot+" (From UniProt)":"",field:"Description"}))},dt=function(e){var t=e.description,n=e.gene,a=e.id,r=e.localization,l=e.name,c=e.uniprot;return i.a.createElement(lt.a,{className:"report__header",Tag:"header"},i.a.createElement("div",{className:"report__header-inner"},i.a.createElement("h1",null,i.a.createElement("div",{className:"report__header-title"},"Identifier"),i.a.createElement("div",null,a)),i.a.createElement("div",{className:"report__header-field"},"Gene"),i.a.createElement("div",null,n),i.a.createElement("div",{className:"report__header-field"},"Protein name"),i.a.createElement("div",null,l||"none currently assigned"),i.a.createElement("div",{className:"report__header-field"},"Localization"),i.a.createElement(rt,{localization:r}),i.a.createElement(ct,{uniprot:c}),i.a.createElement(mt,{description:t})))},gt=function(e){var t=e.conditions,n=e.description,a=e.gene,r=e.id,l=e.images,c=e.localization,o=e.name,s=e.preys,u=e.sequence,m=e.uniprot;return i.a.createElement("div",{className:"report"},i.a.createElement(dt,{description:n,gene:a,id:r,localization:c,name:o,uniprot:m}),i.a.createElement("div",{className:"report__options"},i.a.createElement(A,{images:l}),i.a.createElement(ce,{sequence:u}),i.a.createElement(it,{conditions:t,preys:s})),i.a.createElement(ae,{conditions:t,id:r,preys:s}))};gt.defaultProps={images:null,name:"",uniprot:""};var pt=gt,ht=n("6d1X");t.default=function(e){var t=e.pageContext,n=t.conditions,a=t.description,l=t.gene,c=t.id,o=t.images,s=t.localization,u=t.name,m=t.preys,d=t.sequence,g=t.uniprot;return i.a.createElement(r.a,{margin:!1},i.a.createElement(ht.a,{title:c}),i.a.createElement(pt,{conditions:n,description:a,gene:l,id:c,images:o,localization:s,name:u,preys:m,sequence:d,uniprot:g}))}},s1il:function(e,t,n){},vgLE:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48c3R5bGU+LmZhLXNlY29uZGFyeXtmaWxsOiM2OTljNzh9PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTEyNC40NSAzNzIuNDVBMTc2IDE3NiAwIDEgMSA0MzIgMjU2YTE3NC44NSAxNzQuODUgMCAwIDEtNTEuNTUgMTI0LjQ1eiIgY2xhc3M9ImZhLXNlY29uZGFyeSIvPjxwYXRoIGQ9Ik0yNTYgMzM2YTgwIDgwIDAgMSAxIDgwLTgwIDgwLjA5IDgwLjA5IDAgMCAxLTgwIDgweiIgY2xhc3M9ImZhLXByaW1hcnkiLz48L3N2Zz4="},wuBB:function(e,t,n){}}]);
//# sourceMappingURL=component---src-templates-bait-template-js-b0b632d13411496bdd88.js.map