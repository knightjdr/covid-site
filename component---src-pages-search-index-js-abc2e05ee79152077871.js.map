{"version":3,"sources":["webpack:///./src/components/hooks/small-screen/use-small-screen.js","webpack:///./src/components/search/use-placeholder.js","webpack:///./src/utils/debounce.js","webpack:///./src/components/input/input.js","webpack:///./src/components/search/search-results.js","webpack:///./src/components/search/search.js","webpack:///./src/components/search/find.js","webpack:///./src/components/search/search-container.js","webpack:///./src/pages/search/index.js","webpack:///./src/components/table/table.js","webpack:///./src/components/table/table-container.js","webpack:///./node_modules/fastest-levenshtein/index.js"],"names":["isSmallScreen","size","window","innerWidth","useSmallScreen","wait","useState","smallScreen","setSmallScreen","listener","debounce","useEffect","addEventListener","removeEventListener","usePlaceholder","func","immediate","timeout","args","context","this","later","apply","callNow","clearTimeout","setTimeout","Input","direction","id","label","props","className","htmlFor","defaultProps","SearchResults","searchResults","length","minWidth","map","result","key","symbol","synonyms","join","entrez","uniprot","baits","bait","index","nav","to","hoverBorder","icon","faAnalytics","Search","handleChange","handleClick","handleSearch","inputPlaceholder","searchTerm","autoComplete","autoCorrect","autoCapitalize","onChange","onKeyDown","placeholder","spellCheck","type","value","ariaLabel","kind","faSearch","onClick","preyDB","Object","entries","preys","details","String","symbols","sortMatches","term","matches","calculateLevenshtein","lcTerm","toLowerCase","arr","min","Number","MAX_SAFE_INTEGER","forEach","d","levenshtein","distance","getMinLevenshteinCalculator","sort","a","b","match","find","reSymbol","RegExp","reUniprot","filter","prey","some","test","accession","SearchContainer","urlTerm","useQueryParam","StringParam","setSearchResults","setSearchTerm","search","navigate","encodeURIComponent","replace","e","target","SearchPage","title","Table","forwardRef","ref","children","classOnOverflow","tableOverflows","style","propTypes","PropTypes","node","isRequired","string","oneOfType","number","bool","TableContainer","setTableOverflowed","useRef","isOverflown","current","clientWidth","scrollWidth","peq","Uint32Array","tmp","n","m","lst","pv","mv","sc","i","charCodeAt","eq","xv","myers_32","mhc","phc","hsize","Math","ceil","vsize","score","j","_mv","_pv","_start","_end","k","_i","pb","mb","xh","ph","mh","_k","start","end","_k2","_i2","_eq","_pb","_mb","_xv","_xh","_ph","_mh","_k3","myers_x","module","exports","closest","str","min_distance","Infinity","min_index","dist"],"mappings":"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","file":"component---src-pages-search-index-js-abc2e05ee79152077871.js","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport debounce from '../../../utils/debounce';\n\nconst isSmallScreen = (size) => window.innerWidth < size;\n\nconst useSmallScreen = (wait = 50, size = 800) => {\n  const [smallScreen, setSmallScreen] = useState(false);\n\n  const listener = debounce(() => {\n    setSmallScreen(isSmallScreen(size));\n  }, wait);\n\n  useEffect(() => {\n    window.addEventListener('resize', listener);\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n  });\n\n  useEffect(() => {\n    if (isSmallScreen(size)) {\n      setSmallScreen(true);\n    }\n  }, []);\n\n  return smallScreen;\n};\n\nexport default useSmallScreen;\n","import useSmallScreen from '../hooks/small-screen/use-small-screen';\n\nconst usePlaceholder = () => {\n  const isSmallScreen = useSmallScreen();\n\n  return isSmallScreen\n    ? 'Gene symbol or UniProt'\n    : 'e.g. gene symbol (TRIP11), Entrez ID (9321) or UniProt accession (Q15643)';\n};\n\nexport default usePlaceholder;\n","/* Returns a function, that, as long as it continues to be invoked, will not\n** be triggered. The function will be called after it stops being called for\n** 'wait' milliseconds. If 'immediate' is passed, trigger the function on the\n** leading edge, instead of the trailing. */\n\nfunction debounce(func, wait, immediate) {\n  let timeout;\n  return function debounced(...args) {\n    const context = this;\n    const later = function delayedFunc() {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\nexport default debounce;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport './input.css';\n\nconst Input = ({\n  direction,\n  id,\n  label,\n  ...props\n}) => (\n  <label\n    className={`input input_${direction}`}\n    htmlFor={id}\n  >\n    <span className=\"input__label\">{label}</span>\n    <input\n      id={id}\n      {...props}\n    />\n  </label>\n);\n\nInput.defaultProps = {\n  direction: 'vertical',\n};\n\nInput.propTypes = {\n  direction: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAnalytics } from '@fortawesome/pro-duotone-svg-icons';\n\nimport Link from '../link/link';\nimport Table from '../table/table-container';\n\nconst SearchResults = ({\n  searchResults,\n}) => (\n  <div className=\"search__results\">\n    {\n      searchResults.length > 0\n        ? (\n          <Table minWidth={600}>\n            <thead>\n              <tr>\n                <th>Symbol</th>\n                <th>Synonyms</th>\n                <th>Entrez</th>\n                <th>UniProt</th>\n                <th>Viral protein</th>\n                <th>Profile</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                searchResults.map((result) => (\n                  <tr key={result.symbol}>\n                    <td>{result.symbol}</td>\n                    <td>{result.synonyms.length > 0 ? result.synonyms.join(', ') : '-' }</td>\n                    <td>{result.entrez}</td>\n                    <td>{result.uniprot.length > 0 ? result.uniprot[0] : '-'}</td>\n                    <td>\n                      {\n                        result.baits.map((bait, index) => [\n                          index > 0 && ', ',\n                          <Link\n                            key={`${result.symbol}-bait`}\n                            nav\n                            to={`/${bait}?prey=${result.symbol}`}\n                          >\n                            {bait}\n                          </Link>,\n                        ])\n                      }\n                    </td>\n                    <td>\n                      <Link\n                        hoverBorder\n                        nav\n                        to={`/heatmap?prey=${result.symbol}`}\n                      >\n                        <FontAwesomeIcon icon={faAnalytics} />\n                      </Link>\n                    </td>\n                  </tr>\n                ))\n              }\n            </tbody>\n          </Table>\n        )\n        : <span className=\"search__results-none\">No matches</span>\n    }\n  </div>\n);\n\nSearchResults.propTypes = {\n  searchResults: PropTypes.arrayOf(\n    PropTypes.shape({}),\n  ).isRequired,\n};\n\nexport default SearchResults;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { faSearch } from '@fortawesome/pro-solid-svg-icons';\n\nimport ButtonIcon from '../buttons/icon/button';\nimport Input from '../input/input';\nimport SearchResults from './search-results';\n\nimport './search.css';\n\nconst Search = ({\n  handleChange,\n  handleClick,\n  handleSearch,\n  inputPlaceholder,\n  searchResults,\n  searchTerm,\n}) => (\n  <section className=\"search\">\n    <p>\n      Search by a human identifier for viral proteins that detected it (at 1% FDR).\n    </p>\n    <div className=\"input_button\">\n      <Input\n        autoComplete=\"off\"\n        autoCorrect=\"off\"\n        autoCapitalize=\"off\"\n        className=\"search__input\"\n        direction=\"horizontal\"\n        id=\"search_human_protein\"\n        label=\"Search:\"\n        onChange={handleChange}\n        onKeyDown={handleSearch}\n        placeholder={inputPlaceholder}\n        spellCheck=\"false\"\n        type=\"search\"\n        value={searchTerm}\n      />\n      <ButtonIcon\n        ariaLabel=\"search\"\n        kind=\"primary\"\n        icon={faSearch}\n        onClick={handleClick}\n        type=\"button\"\n      />\n    </div>\n    {\n      searchResults\n      && <SearchResults searchResults={searchResults} />\n    }\n  </section>\n);\n\nSearch.defaultProps = {\n  searchResults: null,\n};\n\nSearch.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n  inputPlaceholder: PropTypes.string.isRequired,\n  searchResults: PropTypes.arrayOf(\n    PropTypes.shape({}),\n  ),\n  searchTerm: PropTypes.string.isRequired,\n};\n\nexport default Search;\n","import levenshtein from 'fastest-levenshtein';\n\nimport preys from '../../../content/preys.json';\n\nconst preyDB = Object.entries(preys).map(([key, details]) => ({\n  entrez: String(details.entrez),\n  symbols: [key, ...details.synonyms],\n  uniprot: details.uniprot,\n}));\n\nconst getMinLevenshteinCalculator = (term) => {\n  const lcTerm = term.toLowerCase();\n  return (arr) => {\n    let min = Number.MAX_SAFE_INTEGER;\n\n    arr.forEach((value) => {\n      const d = levenshtein.distance(value.toLowerCase(), lcTerm);\n      if (d < min) {\n        min = d;\n      }\n    });\n\n    return min;\n  };\n};\n\nconst sortMatches = (term, matches) => {\n  const calculateLevenshtein = getMinLevenshteinCalculator(term);\n  matches.sort((a, b) => calculateLevenshtein(a) - calculateLevenshtein(b));\n  return matches.map((match) => ({\n    symbol: match[0],\n    ...preys[match[0]],\n  }));\n};\n\nconst find = (term) => {\n  const reSymbol = new RegExp(term, 'i');\n  const reUniprot = new RegExp(`^${term}$`, 'i');\n  const matches = preyDB.filter((prey) => (\n    prey.symbols.some((symbol) => reSymbol.test(symbol))\n    || prey.entrez === term\n    || prey.uniprot.some((accession) => reUniprot.test(accession))\n  )).map((prey) => [...prey.symbols, prey.entrez, ...prey.uniprot]);\n  return sortMatches(term, matches);\n};\n\nexport default find;\n","import React, { useEffect, useState } from 'react';\nimport { navigate } from 'gatsby';\nimport { useQueryParam, StringParam } from 'use-query-params';\n\nimport Search from './search';\n\nimport find from './find';\nimport usePlaceholder from './use-placeholder';\n\nconst SearchContainer = () => {\n  const [urlTerm] = useQueryParam('term', StringParam);\n  const [searchResults, setSearchResults] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(urlTerm || '');\n\n  const inputPlaceholder = usePlaceholder();\n\n  const search = (term) => {\n    navigate(`/search?term=${encodeURIComponent(term)}`, { replace: true });\n    setSearchResults(find(term));\n  };\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setSearchTerm(value);\n  };\n\n  const handleClick = () => {\n    if (searchTerm) {\n      search(searchTerm);\n    }\n  };\n\n  const handleSearch = (e) => {\n    if (e.key === 'Enter' && searchTerm) {\n      search(searchTerm);\n    }\n  };\n\n  useEffect(() => {\n    if (searchTerm) {\n      search(searchTerm);\n    }\n  }, []);\n\n  return (\n    <Search\n      handleChange={handleChange}\n      handleClick={handleClick}\n      handleSearch={handleSearch}\n      inputPlaceholder={inputPlaceholder}\n      searchResults={searchResults}\n      searchTerm={searchTerm}\n    />\n  );\n};\n\nexport default SearchContainer;\n","import React from 'react';\n\nimport Layout from '../../components/layout/layout';\nimport Search from '../../components/search/search-container';\nimport SEO from '../../components/seo/seo';\n\nconst SearchPage = () => (\n  <Layout>\n    <SEO title=\"Search\" />\n    <h1>Search</h1>\n    <Search />\n  </Layout>\n);\n\nexport default SearchPage;\n","import PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\n\nimport './table.css';\n\nconst Table = forwardRef((\n  {\n    children,\n    classOnOverflow,\n    minWidth,\n    tableOverflows,\n  },\n  ref,\n) => (\n  <div\n    className={classOnOverflow && tableOverflows ? `table__container ${classOnOverflow}` : 'table__container'}\n    ref={ref}\n  >\n    <table\n      className=\"table\"\n      style={{ minWidth }}\n    >\n      {children}\n    </table>\n  </div>\n));\n\nTable.defaultProps = {\n  minWidth: 'auto',\n};\n\nTable.propTypes = {\n  children: PropTypes.node.isRequired,\n  classOnOverflow: PropTypes.string.isRequired,\n  minWidth: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  tableOverflows: PropTypes.bool.isRequired,\n};\n\nexport default Table;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport Table from './table';\n\nconst TableContainer = ({\n  children,\n  classOnOverflow,\n  minWidth,\n}) => {\n  const [tableOverflows, setTableOverflowed] = useState(false);\n  const ref = useRef();\n\n  useEffect(() => {\n    const isOverflown = () => {\n      const { clientWidth, scrollWidth } = ref.current;\n      setTableOverflowed(scrollWidth > clientWidth);\n    };\n\n    if (classOnOverflow) {\n      isOverflown();\n      window.addEventListener('resize', isOverflown);\n    }\n    return () => {\n      if (classOnOverflow) {\n        window.removeEventListener('resize', isOverflown);\n      }\n    };\n  }, [classOnOverflow]);\n\n  return (\n    <Table\n      classOnOverflow={classOnOverflow}\n      minWidth={minWidth}\n      ref={ref}\n      tableOverflows={tableOverflows}\n    >\n      {children}\n    </Table>\n  );\n};\n\nTableContainer.defaultProps = {\n  classOnOverflow: '',\n  minWidth: 'auto',\n};\n\nTableContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n  classOnOverflow: PropTypes.string,\n  minWidth: PropTypes.number,\n};\n\nexport default TableContainer;\n","\"use strict\";\n\nvar peq = new Uint32Array(0x10000);\n\nvar myers_32 = function myers_32(a, b) {\n  var n = a.length;\n  var m = b.length;\n  var lst = 1 << n - 1;\n  var pv = -1;\n  var mv = 0;\n  var sc = n;\n  var i = n;\n\n  while (i--) {\n    peq[a.charCodeAt(i)] |= 1 << i;\n  }\n\n  for (i = 0; i < m; i++) {\n    var eq = peq[b.charCodeAt(i)];\n    var xv = eq | mv;\n    eq |= (eq & pv) + pv ^ pv;\n    mv |= ~(eq | pv);\n    pv &= eq;\n\n    if (mv & lst) {\n      sc++;\n    }\n\n    if (pv & lst) {\n      sc--;\n    }\n\n    mv = mv << 1 | 1;\n    pv = pv << 1 | ~(xv | mv);\n    mv &= xv;\n  }\n\n  i = n;\n\n  while (i--) {\n    peq[a.charCodeAt(i)] = 0;\n  }\n\n  return sc;\n};\n\nvar myers_x = function myers_x(a, b) {\n  var n = a.length;\n  var m = b.length;\n  var mhc = [];\n  var phc = [];\n  var hsize = Math.ceil(n / 32);\n  var vsize = Math.ceil(m / 32);\n  var score = m;\n\n  for (var i = 0; i < hsize; i++) {\n    phc[i] = -1;\n    mhc[i] = 0;\n  }\n\n  var j = 0;\n\n  for (; j < vsize - 1; j++) {\n    var _mv = 0;\n\n    var _pv = -1;\n\n    var _start = j * 32;\n\n    var _end = Math.min(32, m) + _start;\n\n    for (var k = _start; k < _end; k++) {\n      peq[b.charCodeAt(k)] |= 1 << k;\n    }\n\n    score = m;\n\n    for (var _i = 0; _i < n; _i++) {\n      var eq = peq[a.charCodeAt(_i)];\n      var pb = phc[_i / 32 | 0] >>> _i & 1;\n      var mb = mhc[_i / 32 | 0] >>> _i & 1;\n      var xv = eq | _mv;\n      var xh = ((eq | mb) & _pv) + _pv ^ _pv | eq | mb;\n      var ph = _mv | ~(xh | _pv);\n      var mh = _pv & xh;\n\n      if (ph >>> 31 ^ pb) {\n        phc[_i / 32 | 0] ^= 1 << _i;\n      }\n\n      if (mh >>> 31 ^ mb) {\n        mhc[_i / 32 | 0] ^= 1 << _i;\n      }\n\n      ph = ph << 1 | pb;\n      mh = mh << 1 | mb;\n      _pv = mh | ~(xv | ph);\n      _mv = ph & xv;\n    }\n\n    for (var _k = _start; _k < _end; _k++) {\n      peq[b.charCodeAt(_k)] = 0;\n    }\n  }\n\n  var mv = 0;\n  var pv = -1;\n  var start = j * 32;\n  var end = Math.min(32, m - start) + start;\n\n  for (var _k2 = start; _k2 < end; _k2++) {\n    peq[b.charCodeAt(_k2)] |= 1 << _k2;\n  }\n\n  score = m;\n\n  for (var _i2 = 0; _i2 < n; _i2++) {\n    var _eq = peq[a.charCodeAt(_i2)];\n\n    var _pb = phc[_i2 / 32 | 0] >>> _i2 & 1;\n\n    var _mb = mhc[_i2 / 32 | 0] >>> _i2 & 1;\n\n    var _xv = _eq | mv;\n\n    var _xh = ((_eq | _mb) & pv) + pv ^ pv | _eq | _mb;\n\n    var _ph = mv | ~(_xh | pv);\n\n    var _mh = pv & _xh;\n\n    score += _ph >>> m - 1 & 1;\n    score -= _mh >>> m - 1 & 1;\n\n    if (_ph >>> 31 ^ _pb) {\n      phc[_i2 / 32 | 0] ^= 1 << _i2;\n    }\n\n    if (_mh >>> 31 ^ _mb) {\n      mhc[_i2 / 32 | 0] ^= 1 << _i2;\n    }\n\n    _ph = _ph << 1 | _pb;\n    _mh = _mh << 1 | _mb;\n    pv = _mh | ~(_xv | _ph);\n    mv = _ph & _xv;\n  }\n\n  for (var _k3 = start; _k3 < end; _k3++) {\n    peq[b.charCodeAt(_k3)] = 0;\n  }\n\n  return score;\n};\n\nvar distance = function distance(a, b) {\n  if (a.length > b.length) {\n    var tmp = b;\n    b = a;\n    a = tmp;\n  }\n\n  if (a.length === 0) {\n    return b.length;\n  }\n\n  if (a.length <= 32) {\n    return myers_32(a, b);\n  }\n\n  return myers_x(a, b);\n};\n\nvar closest = function closest(str, arr) {\n  var min_distance = Infinity;\n  var min_index = 0;\n\n  for (var i = 0; i < arr.length; i++) {\n    var dist = distance(str, arr[i]);\n\n    if (dist < min_distance) {\n      min_distance = dist;\n      min_index = i;\n    }\n  }\n\n  return arr[min_index];\n};\n\nmodule.exports = {\n  closest: closest,\n  distance: distance\n};"],"sourceRoot":""}